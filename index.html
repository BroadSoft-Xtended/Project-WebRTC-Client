<!--***************************************************
* Created on Mon Jan 14 15:32:43 GMT 2013 by:
* Nathan Stratton <nathan@robotics.net>
*
* Copyright 2013 Exario Networks
* http://www.exarionetworks.com
***************************************************-->

<html>

<head>
  <title>Exario Networks WebRTC Client</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="Author" content="Exario Networks, Inc."/>
  <link rel="stylesheet" href="stylesheet.css" type="text/css"/>
  <script src="js/jquery.js" type="text/javascript"></script>
  <script src="js/jquery-ui.js" type="text/javascript"></script>
  <script src="js/jquery-cookie.js" type="text/javascript"></script>
  <script src="js/jssip.js" type="text/javascript"></script>
  <script src="js/detect.js" type="text/javascript"></script>
  <script src="js/config.js" type="text/javascript"></script>
  <script src="js/webrtc.js" type="text/javascript"></script>
  <script src="js/stats.js" type="text/javascript"></script>
</head>

<body>

<div id="unsupported" class="unsupported"></div>

<noscript>
  <div class="unsupported" style="display:block;background-color:white;color:black;">
  JavaScript must be enabled to load the WebRTC client
  </div>
</noscript>

<div id="authPopup">
  <span>Display Name</span><br>
  <input id="displayName" type=text value=""/><br>
  <span>Username</span><br>
  <input id="username" type=text value=""/><br>
  <span>Password</span><br>
  <input id="password" type="password" value=""/><br>
  <br>
  <div id="alert"></div>
  <button class="button" id="authPopupButton" type="button">Sign in</button>
</div>

<div id="callControl">
  <span>Enter Destination URI:</span><br>
  <input id="destination" type=text value=""/>
  <div id="call">
    <a href="" title="Call" class="icon-call"></a>
  </div>
</div>

<div id="main">
  <div id="errorPopup"></div>
  <div id="callPopup">
    <span>Incoming Call</span><br><br>
    <span class="incomingCallName"></span><br>
    <span class="incomingCallUser"></span><br><br>
    <button class="button" id="acceptIncomingCall" type="button">Accept</button>
    <button class="button" id="rejectIncomingCall" type="button">Reject</button>
  </div>
  <div id="settingsPopup">
    <span style="font-size: 22px; font-weight: bold; color: #FFFFFF;">Client Settings</span>
    <div class="row" style="height: 15px;"></div>
    <span>Display Name</span>
    <input id="settingDisplayName" type="text" value=""/><br>
    <span>User ID</span>
    <input id="settingUserid" type="text" value=""/><br>
    <span>Password</span>
    <input id="settingPassword" type="password" value=""/><br>
    <span>Disable Self View</span>
    <input id="settingSelfViewDisable" type="checkbox"/><br>
    <span>Start in HD</span>
    <input id="settingHD" type="checkbox"/><br>
    <span>Max VGA Bandwidth</span>
    <input id="settingTransmitVGA" type="text" maxlength="4" style="width: 36px;" value=""/><br>
    <span>Max HD Bandwidth</span>
    <input id="settingTransmitHD" type="text" maxlength="4" style="width: 36px;" value=""/><br>
    <span>Window Zoom</span>
    <input id="settingZoom" type="text" maxlength="4" style="width: 36px;" value=""/><br>
    <span>Auto Answer</span>
    <input id="settingAutoAnswer" type="checkbox"/><br>
    <span>Self View Window</span>
    <input id="settingLocalVideoTop" type="text" maxlength="4" style="width: 36px;" value=""/><span style="position: absolute; left: 280">top</span>
    <input id="settingLocalVideoLeft" type="text" maxlength="4" style="width: 36px; left: 330;" value=""/><span style="position: absolute; left: 370">left</span><br>
    <span>Call History Window</span>
    <input id="settingCallHistoryTop" type="text" maxlength="4" style="width: 36px;" value=""/><span style="position: absolute; left: 280">top</span>
    <input id="settingCallHistoryLeft" type="text" maxlength="4" style="width: 36px; left: 330;" value=""/><span style="position: absolute; left: 370">left</span><br>
    <span>Call Stats Window</span>
    <input id="settingCallStatsTop" type="text" maxlength="4" style="width: 36px;" value=""/><span style="position: absolute; left: 280">top</span>
    <input id="settingCallStatsLeft" type="text" maxlength="4" style="width: 36px; left: 330;" value=""/><span style="position: absolute; left: 370">left</span><br>
    <div id="saveSettings">
      <a href="" title="Save Settings" class="icon-ok"></a>
    </div>
  </div>
  <div id="video">
    <video id="remoteVideo" autoplay="autoplay"></video>
    <video id="localVideo" autoplay="autoplay" muted="true"></video>
  </div>
  <div id="videoBar"></div>
  <div id="messages"></div>
  <div id="timer"></div>
  <div id="connected">
    <span title="Websockets Status" class="icon-link"></span>
  </div>
  <div id="registered">
    <span title="Registered" class="icon-link"></span>
  </div>
  <div id="quality1">
    <span title="Call Quality" class="icon-quality1"></span>
  </div>
  <div id="quality2">
    <span title="Call Quality" class="icon-quality2"></span>
  </div>
  <div id="quality3">
    <span title="Call Quality" class="icon-quality3"></span>
  </div>
  <div id="quality4">
    <span title="Call Quality" class="icon-quality4"></span>
  </div>
  <div id="settings">
    <span title="Settings" class="icon-settings"></span>
  </div>
  <div id="hangup">
    <a href="" title="Hangup" class="icon-hangup"></a>
  </div>
  <div id="fullScreenExpand">
    <a href="" title="Expand Full Screen" class="icon-fullScreenExpand"></a>
  </div>
  <div id="fullScreenContract">
    <a href="" title="Contract Full Screen" class="icon-fullScreenContract"></a>
  </div>
  <div id="selfViewDisable">
    <a href="" title="Disable Self View" class="icon-selfViewDisable"></a>
  </div>
  <div id="selfViewEnable">
    <a href="" title="Enable Self View" class="icon-selfViewEnable"></a>
  </div>
  <div id="muteAudio">
    <a href="" title="Mute Audio" class="icon-muteAudio"></a>
  </div>
  <div id="unmuteAudio">
    <a href="" title="Unmute Audio" class="icon-unmuteAudio"></a>
  </div>
  <div id="dialpadIconShow">
    <a href="" title="Show Dialpad" class="icon-dialpadShow"></a>
  </div>
  <div id="dialpadIconHide">
    <a href="" title="Hide Dialpad" class="icon-dialpadHide"></a>
  </div>
  <div id="dialpad">
    <div>
      <button>1</button>
      <button>2</button>
      <button>3</button>
    </div>
    <div>
      <button>4</button>
      <button>5</button>
      <button>6</button>
    </div>
    <div>
      <button>7</button>
      <button>8</button>
      <button>9</button>
    </div>
    <div>
      <button>*</button>
      <button>0</button>
      <button>#</button>
    </div>
  </div>
</div>

<div id="callHistory">
  <div class="rowSpace"></div>
  <div id="row0">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row1">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row2">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row3">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row4">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row5">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row6">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>
  <div id="row7">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>	
  <div id="row8">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div class="rowSpace"></div>	
  <div id="row9">
    <a href="" title="Number" class="historyDestination"></a>
    <span class="historyDirection"></span><br>
    <span class="historyDate"></span><span class="historyLength"></span>
  </div>
  <div id="historyBack">
    <a href="" title="Previous" class="icon-left"></a>
  </div>
  <div id="historyClear">
    <a href="" title="Clear History" class="icon-trash"></a>
  </div>
  <div id="historyClose">
    <a href="" title="Close" class="icon-ok"></a>
  </div>
  <div id="historyForward">
    <a href="" title="Next" class="icon-right"></a>
  </div>
</div>   

<div id="callStats" class="">
  <div class="fixed-table collapse">
    <div class="heading">
      <div class="cell">Video Stats</div>
      <div class="cell">Audio Stats</div>
    </div>
    <div class="row">
        <div class="cell">Bitrate out: <a href="javascript:;" data-type="video" data-var="kiloBitsSentPerSecond" class="stats-var"></a> kb/s</div>
        <div class="cell">Bitrate out: <a href="javascript:;" data-type="audio" data-var="kiloBitsSentPerSecond" class="stats-var"></a> kb/s</div>
    </div>
    <div class="row">
        <div class="cell">Bitrate in: <a href="javascript:;" data-type="video" data-var="kiloBitsReceivedPerSecond" class="stats-var"></a> kb/s</div>
        <div class="cell">Bitrate in: <a href="javascript:;" data-type="audio" data-var="kiloBitsReceivedPerSecond" class="stats-var"></a> kb/s</div>
    </div>
    <div class="row">
        <div class="cell">Lost: <a href="javascript:;" data-type="video" data-var="packetsLost" class="stats-var"></a> packets (<a href="javascript:;" data-type="video" data-var="packetsLostPer" class="stats-var"></a> %)</div>
        <div class="cell">Lost: <a href="javascript:;" data-type="audio" data-var="packetsLost" class="stats-var"></a> packets (<a href="javascript:;" data-type="audio" data-var="packetsLostPer" class="stats-var"></a> %)</div>
    </div>
    <div class="row">
        <div class="cell">Frame rate out: <a href="javascript:;" data-type="video" data-var="googFrameRateSent" class="stats-var"></a> in: <a href="javascript:;" data-type="video" data-var="googFrameRateReceived" class="stats-var"></a></div>
        <div class="cell">Audio Level out: <a href="javascript:;" data-type="audio" data-var="audioOutputLevel" class="stats-var"></a> in: <a href="javascript:;" data-type="audio" data-var="audioInputLevel" class="stats-var"></a></div>
    </div>
    <div class="row" style="height: 15px;"></div>
    <div class="heading">
        <div class="cell">Resolution</div>
        <div class="cell">Link</div>
    </div>
    <div class="row">
        <div class="cell">In: <span data-type="video" data-var="googFrameWidthReceived" class="stats-var"></span> x <span data-type="video" data-var="googFrameHeightReceived" class="stats-var"></span> Out: <span data-type="video" data-var="googFrameWidthSent" class="stats-var"></span> x <span data-type="video" data-var="googFrameHeightSent" class="stats-var"></span></div>
        <div class="cell">Delay: <a href="javascript:;" data-type="audio" data-var="googRtt" class="stats-var"></a> Jitter: <a href="javascript:;" data-type="audio" data-var="googJitterReceived" class="stats-var"></a></div>
    </div>
    <div class="row" style="height: 15px;"></div>
  </div>
  <div class="stats-container"></div>
</div>

</body>

</html>
